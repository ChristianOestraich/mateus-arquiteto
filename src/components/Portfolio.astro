---
// Portfolio.astro - Seção Moderna de Portfolio
const projects = [
  {
    id: 1,
    title: "Residência Minimalista",
    category: "Residencial",
    location: "São Paulo, SP",
    year: "2024",
    area: "450m²",
    image: "/banners/image-portfolio/portifolio-01.jpeg",
    description: "Projeto residencial com linhas clean e integração com a natureza"
  },
  {
    id: 2,
    title: "Loft Industrial",
    category: "Interiores",
    location: "Rio de Janeiro, RJ",
    year: "2024",
    area: "180m²",
    image: "/banners/image-portfolio/portifolio-02.jpeg",
    description: "Design de interiores moderno com toques industriais"
  },
  {
    id: 3,
    title: "Escritório Corporativo",
    category: "Comercial",
    location: "Curitiba, PR",
    year: "2023",
    area: "800m²",
    image: "/banners/image-portfolio/portifolio-03.jpeg",
    description: "Ambiente corporativo que inspira produtividade e criatividade"
  },
  {
    id: 4,
    title: "Casa de Campo",
    category: "Residencial",
    location: "Campos do Jordão, SP",
    year: "2023",
    area: "520m²",
    image: "/banners/image-portfolio/portifolio-04.jpeg",
    description: "Arquitetura que dialoga com a paisagem montanhosa"
  },
  {
    id: 5,
    title: "Apartamento Luxo",
    category: "Interiores",
    location: "São Paulo, SP",
    year: "2023",
    area: "220m²",
    image: "/banners/image-portfolio/portifolio-05.jpeg",
    description: "Sofisticação e conforto em cada detalhe"
  },
  {
    id: 6,
    title: "Restaurante Gourmet",
    category: "Comercial",
    location: "Florianópolis, SC",
    year: "2024",
    area: "350m²",
    image: "/banners/image-portfolio/portifolio-06.jpeg",
    description: "Experiência gastronômica através do design"
  },
  {
    id: 7,
    title: "Sobrado Moderno",
    category: "Residencial",
    location: "Porto Alegre, RS",
    year: "2024",
    area: "380m²",
    image: "/banners/image-portfolio/portifolio-07.jpeg",
    description: "Fachada contemporânea com elementos em madeira e vidro"
  },
  {
    id: 8,
    title: "Clínica Médica",
    category: "Comercial",
    location: "Brasília, DF",
    year: "2023",
    area: "600m²",
    image: "/banners/image-portfolio/portifolio-08.jpeg",
    description: "Ambiente acolhedor e funcional para cuidados com a saúde"
  },
  {
    id: 9,
    title: "Penthouse Vista Mar",
    category: "Interiores",
    location: "Salvador, BA",
    year: "2024",
    area: "280m²",
    image: "/banners/image-portfolio/portifolio-09.jpeg",
    description: "Luxo e elegância com vista privilegiada"
  }
];

const categories = ["Todos", "Residencial", "Interiores", "Comercial"];
---

<section class="portfolio">
  <div class="portfolio-container">
    <!-- Header -->
    <div class="portfolio-header">
      <p class="portfolio-subtitle">NOSSO TRABALHO</p>
      <h2 class="portfolio-title">Portfolio de Projetos</h2>
      <p class="portfolio-description">
        Explore nossa seleção de projetos que transformaram sonhos em realidade. 
        Cada obra é única e reflete nossa paixão por criar espaços extraordinários.
      </p>
    </div>

    <!-- Filter -->
    <div class="filter-container">
      <div class="filter-buttons" id="filterButtons">
        {categories.map((category, index) => (
          <button 
            class={`filter-btn ${index === 0 ? 'active' : ''}`}
            data-filter={category}
          >
            {category}
          </button>
        ))}
      </div>
    </div>

    <!-- Projects Grid -->
    <div class="projects-grid" id="projectsGrid">
      {projects.map((project) => (
        <div class="project-card" data-category={project.category}>
          <div class="project-image-wrapper">
            <img src={project.image} alt={project.title} class="project-image" loading="lazy" />
            <div class="project-overlay">
              <div class="project-info">
                <span class="project-category">{project.category}</span>
                <h3 class="project-title">{project.title}</h3>
                <p class="project-description">{project.description}</p>
                <div class="project-details">
                  <span class="project-detail">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                      <circle cx="12" cy="10" r="3"/>
                    </svg>
                    {project.location}
                  </span>
                  <span class="project-detail">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                      <line x1="16" y1="2" x2="16" y2="6"/>
                      <line x1="8" y1="2" x2="8" y2="6"/>
                      <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                    {project.year}
                  </span>
                  <span class="project-detail">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                    </svg>
                    {project.area}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- CTA -->
    <div class="portfolio-cta">
      <h3 class="cta-title">Gostou do que viu?</h3>
      <p class="cta-text">Entre em contato e vamos criar algo incrível juntos</p>
      <a href="/contact/contato" class="cta-button">
        Iniciar Projeto
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </a>
    </div>
  </div>
</section>

<style>
  .portfolio {
    background: #FAF8F5;
    padding: 120px 20px;
  }

  .portfolio-container {
    max-width: 1400px;
    margin: 0 auto;
  }

  /* Header */
  .portfolio-header {
    text-align: center;
    margin-bottom: 80px;
  }

  .portfolio-subtitle {
    font-size: 0.95rem;
    color: #E3735E;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin-bottom: 16px;
  }

  .portfolio-title {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 700;
    color: #2C3E50;
    margin-bottom: 24px;
    line-height: 1.1;
  }

  .portfolio-description {
    font-size: clamp(1rem, 1.5vw, 1.2rem);
    color: #7F8C8D;
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.8;
  }

  /* Filter */
  .filter-container {
    margin-bottom: 60px;
    display: flex;
    justify-content: center;
  }

  .filter-buttons {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    justify-content: center;
    background: #ffffff;
    padding: 8px;
    border-radius: 50px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  }

  .filter-btn {
    padding: 12px 32px;
    border: none;
    background: transparent;
    color: #7F8C8D;
    font-size: 0.95rem;
    font-weight: 600;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .filter-btn:hover {
    color: #E3735E;
  }

  .filter-btn.active {
    background: #E3735E;
    color: #ECF0F1;
  }

  /* Projects Grid */
  .projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
    gap: 32px;
    margin-bottom: 80px;
  }

  .project-card {
    border-radius: 20px;
    overflow: hidden;
    transition: all 0.4s ease;
  }

  .project-card.hidden {
    display: none;
  }

  .project-image-wrapper {
    position: relative;
    width: 100%;
    height: 500px;
    overflow: hidden;
    background: #34495E;
  }

  .project-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
  }

  .project-card:hover .project-image {
    transform: scale(1.1);
  }

  .project-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      to top,
      rgba(44, 62, 80, 0.95) 0%,
      rgba(44, 62, 80, 0.7) 50%,
      transparent 100%
    );
    display: flex;
    align-items: flex-end;
    padding: 32px;
    opacity: 0;
    transition: opacity 0.4s ease;
  }

  .project-card:hover .project-overlay {
    opacity: 1;
  }

  .project-info {
    width: 100%;
  }

  .project-category {
    display: inline-block;
    padding: 6px 16px;
    background: #E3735E;
    color: #ECF0F1;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 20px;
    margin-bottom: 12px;
  }

  .project-title {
    font-size: 1.8rem;
    font-weight: 700;
    color: #ECF0F1;
    margin-bottom: 12px;
    line-height: 1.2;
  }

  .project-description {
    font-size: 1rem;
    color: #ECF0F1;
    margin-bottom: 20px;
    line-height: 1.6;
    opacity: 0.9;
  }

  .project-details {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
  }

  .project-detail {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.9rem;
    color: #ECF0F1;
    opacity: 0.85;
  }

  .project-detail svg {
    color: #E3735E;
  }

  /* CTA */
  .portfolio-cta {
    text-align: center;
    padding: 80px 40px;
    background: linear-gradient(135deg, #2C3E50 0%, #34495E 100%);
    border-radius: 24px;
  }

  .cta-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 600;
    color: #ECF0F1;
    margin-bottom: 16px;
  }

  .cta-text {
    font-size: 1.2rem;
    color: #ECF0F1;
    opacity: 0.85;
    margin-bottom: 40px;
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    padding: 16px 40px;
    background: #E3735E;
    color: #ECF0F1;
    border-radius: 50px;
    font-size: 1.1rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .cta-button:hover {
    background: #C85A45;
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(227, 115, 94, 0.4);
  }

  @media (max-width: 768px) {
    .portfolio {
      padding: 80px 20px;
    }

    .portfolio-header {
      margin-bottom: 60px;
    }

    .filter-container {
      margin-bottom: 40px;
    }

    .filter-buttons {
      padding: 6px;
      gap: 8px;
    }

    .filter-btn {
      padding: 10px 24px;
      font-size: 0.9rem;
    }

    .projects-grid {
      grid-template-columns: 1fr;
      gap: 24px;
      margin-bottom: 60px;
    }

    .project-image-wrapper {
      height: 400px;
    }

    .project-overlay {
      opacity: 1;
      background: linear-gradient(
        to top,
        rgba(44, 62, 80, 0.95) 0%,
        rgba(44, 62, 80, 0.6) 60%,
        transparent 100%
      );
    }

    .project-title {
      font-size: 1.5rem;
    }

    .portfolio-cta {
      padding: 60px 24px;
    }
  }
</style>

<script>
  // Filter functionality
  const filterButtons = document.querySelectorAll('.filter-btn');
  const projectCards = document.querySelectorAll('.project-card');

  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      // Remove active class from all buttons
      filterButtons.forEach(btn => btn.classList.remove('active'));
      
      // Add active class to clicked button
      button.classList.add('active');

      const filter = button.getAttribute('data-filter');

      projectCards.forEach(card => {
        const category = card.getAttribute('data-category');

        if (filter === 'Todos' || category === filter) {
          card.classList.remove('hidden');
          // Trigger reflow for animation
          setTimeout(() => {
            card.style.opacity = '1';
            card.style.transform = 'scale(1)';
          }, 10);
        } else {
          card.style.opacity = '0';
          card.style.transform = 'scale(0.9)';
          setTimeout(() => {
            card.classList.add('hidden');
          }, 300);
        }
      });
    });
  });

  // Initialize all cards as visible
  projectCards.forEach(card => {
    card.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
  });
</script>