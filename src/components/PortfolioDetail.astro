---
// src/components/PortfolioDetail.astro - ATUALIZADO

// Dados Mockados para o Portfólio
const projects = [
  {
    id: 1,
    title: "Residência Aurora",
    subtitle: "Projeto arquitetônico e interiores de alto padrão",
    category: "Residencial",
    image: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=900&q=80",
    tags: ["Alto Padrão", "Moderno", "Sustentável"],
    link: "/portfolio/residencia-aurora",
    gallery: [
      "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&q=80",
      "https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=1200&q=80",
      "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1200&q=80",
      "https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=1200&q=80"
    ]
  },
  {
    id: 2,
    title: "Escritório Criativo Connect",
    subtitle: "Design de interiores para coworking e tecnologia",
    category: "Comercial",
    image: "https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200&q=80",
    tags: ["Corporativo", "Minimalista", "Industrial"],
    link: "/portfolio/escritorio-connect",
    gallery: [
      "https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200&q=80",
      "https://images.unsplash.com/photo-1497366811353-6870744d04b2?w=1200&q=80",
      "https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=1200&q=80",
      "https://images.unsplash.com/photo-1497215728101-856f4ea42174?w=1200&q=80"
    ]
  },
  {
    id: 3,
    title: "Clínica Bem-Estar",
    subtitle: "Reforma e adequação para espaço de saúde e relaxamento",
    category: "Saúde",
    image: "https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=1200&q=80",
    tags: ["Clínica", "Acolhedor", "Funcional"],
    link: "/portfolio/clinica-bem-estar",
    gallery: [
      "https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=1200&q=80",
      "https://images.unsplash.com/photo-1519494140681-8b17d830a3ec?w=1200&q=80",
      "https://images.unsplash.com/photo-1629909613654-28e377c37b09?w=1200&q=80"
    ]
  },
  {
    id: 4,
    title: "Apartamento Vista Mar",
    subtitle: "Projeto de interiores focado em iluminação natural",
    category: "Interiores",
    image: "https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=1200&q=80",
    tags: ["Praia", "Contemporâneo", "Clean"],
    link: "/portfolio/apartamento-vista-mar",
    gallery: [
      "https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=1200&q=80",
      "https://images.unsplash.com/photo-1600607687644-c7171b42498f?w=1200&q=80",
      "https://images.unsplash.com/photo-1600607688960-e095ff83135a?w=1200&q=80",
      "https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b?w=1200&q=80"
    ]
  },
  {
    id: 5,
    title: "Loft Industrial Moderno",
    subtitle: "Design de interiores com estilo urbano e contemporâneo",
    category: "Interiores",
    image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=1200&q=80",
    tags: ["Industrial", "Moderno", "Urbano"],
    link: "/portfolio/loft-industrial",
    gallery: [
      "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=1200&q=80",
      "https://images.unsplash.com/photo-1556909172-54557c7e4fb7?w=1200&q=80",
      "https://images.unsplash.com/photo-1556909212-d5b604d0c90d?w=1200&q=80",
      "https://images.unsplash.com/photo-1556909172-54557c7e4fb7?w=1200&q=80"
    ]
  },
  {
    id: 6,
    title: "Penthouse Luxo",
    subtitle: "Interiores sofisticados com vista panorâmica",
    category: "Interiores",
    image: "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=1200&q=80",
    tags: ["Luxo", "Sofisticado", "Elegante"],
    link: "/portfolio/penthouse-luxo",
    gallery: [
      "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=1200&q=80",
      "https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=1200&q=80",
      "https://images.unsplash.com/photo-1560449752-8b1e6c1c6c09?w=1200&q=80",
      "https://images.unsplash.com/photo-1560185127-6bdc6ba31b0e?w=1200&q=80"
    ]
  },
  {
    id: 7,
    title: "Casa Minimalista Zen",
    subtitle: "Design de interiores com conceito minimalista japonês",
    category: "Interiores",
    image: "https://images.unsplash.com/photo-1615876234886-fd9a39fda97f?w=1200&q=80",
    tags: ["Minimalista", "Zen", "Japonês"],
    link: "/portfolio/casa-minimalista",
    gallery: [
      "https://images.unsplash.com/photo-1615876234886-fd9a39fda97f?w=1200&q=80",
      "https://images.unsplash.com/photo-1615873968403-89e068629265?w=1200&q=80",
      "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=1200&q=80",
      "https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=1200&q=80"
    ]
  },
  {
    id: 8,
    title: "Casa de Campo",
    subtitle: "Projeto rústico e integrado à natureza",
    category: "Residencial",
    image: "https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=1200&q=80",
    tags: ["Rústico", "Madeira", "Natureza"],
    link: "/portfolio/casa-de-campo",
    gallery: [
      "https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=1200&q=80",
      "https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=1200&q=80",
      "https://images.unsplash.com/photo-1600566752355-35792bedcfea?w=1200&q=80",
      "https://images.unsplash.com/photo-1600573472591-ee6b68d14c68?w=1200&q=80"
    ]
  }
];

const categories = [
  "Todos",
  "Residencial",
  "Comercial",
  "Interiores",
  "Saúde"
];
---

<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../../public/images/favicon/favicon.png" />
    <title>Portfólio | Arquitetura</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: #ECF0F1;
        color: #2C3E50;
      }

      .portfolio-detail {
        min-height: 100vh;
      }

      .burger {
        position: fixed;
        z-index: 1000;
        top: 0;
        left: 0;
        display: grid;
        place-items: center;
        width: 100px;
        height: 100px;
        border: 0;
        padding: 0;
        background: transparent;
        cursor: pointer;
      }

      .burger-icon {
        position: relative;
        width: 16px;
        height: 2px;
        background: #E3735E;
        transition: 0.3s;
      }

      .burger-icon::before,
      .burger-icon::after {
        content: "";
        position: absolute;
        left: 0;
        width: 16px;
        height: 2px;
        background: #E3735E;
        transition: 0.3s;
      }

      .burger-icon::before {
        top: -8px;
      }

      .burger-icon::after {
        top: 8px;
      }

      .menu {
        position: fixed;
        z-index: 999;
        top: 0;
        left: 0;
        display: grid;
        place-items: center;
        width: 50%;
        max-width: 400px;
        height: 100%;
        background: rgba(44, 62, 80, 0.95);
        backdrop-filter: blur(10px);
        transform: translateX(-100%);
        transition: transform 0.425s cubic-bezier(0.175, 0.885, 0.32, 1);
        opacity: 0;
        visibility: hidden;
        border-right: 3px solid #E3735E;
      }

      .menu.open {
        transform: translateX(0);
        opacity: 1;
        visibility: visible;
      }

      .menu nav {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        opacity: 0;
        transition: opacity 0.3s ease 0.2s;
      }

      .menu.open nav {
        opacity: 1;
      }

      .menu a {
        position: relative;
        color: #ECF0F1;
        font-size: 30px;
        padding: 18px 0;
        width: 100%;
        text-decoration: none;
        text-align: center;
        transition: 0.4s;
      }

      .menu a:hover {
        color: #E3735E;
      }

      .menu a::before,
      .menu a::after {
        content: "";
        position: absolute;
        bottom: 10px;
        width: 100%;
        height: 2px;
        transition: 0.4s;
      }

      .menu a::before {
        opacity: 0;
        background: rgba(227, 115, 94, 0.3);
      }

      .menu a::after {
        transform: scaleX(0);
        transform-origin: 0% 50%;
        background: #E3735E;
      }

      .menu a:hover::before {
        opacity: 1;
      }

      .menu a:hover::after {
        transform: scaleX(1);
      }

      body.menu-open .burger-icon {
        background: #E3735E;
        transform: rotate(-45deg);
      }

      body.menu-open .burger-icon::before {
        background: #E3735E;
        transform: rotate(90deg) translate(10px, -1px);
      }

      body.menu-open .burger-icon::after {
        background: #E3735E;
        transform: rotate(90deg) translate(-9px, 1px);
      }

      .hero-section {
        position: relative;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }
      
      .hero-background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
      }
      
      .hero-background img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      
      .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(44, 62, 80, 0.8);
        z-index: 1;
      }
      
      .hero-content {
        position: relative;
        z-index: 2;
        text-align: center;
        max-width: 1200px;
        padding: 60px 20px;
        margin: 0 auto;
      }
      
      .hero-title {
        font-size: clamp(2.5rem, 6vw, 5rem);
        font-weight: 700;
        color: #ECF0F1;
        margin-bottom: 24px;
        line-height: 1.1;
      }
      
      .hero-description {
        font-size: clamp(1rem, 1.5vw, 1.3rem);
        color: #F2A594;
        line-height: 1.8;
        max-width: 800px;
        margin: 0 auto 60px;
      }

      .portfolio-content {
        background: #ECF0F1;
        padding: 100px 20px;
      }

      .portfolio-container {
        max-width: 1400px;
        margin: 0 auto;
      }

      .category-filter {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: center;
        margin-bottom: 60px;
      }

      .filter-button {
        padding: 10px 24px;
        background: #34495E;
        color: #ECF0F1;
        border: 2px solid #34495E;
        border-radius: 50px;
        font-size: 0.9rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .filter-button:hover {
        background: #E3735E;
        border-color: #E3735E;
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(227, 115, 94, 0.3);
      }

      .filter-button.active {
        background: #E3735E;
        border-color: #E3735E;
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(227, 115, 94, 0.3);
        font-weight: 600;
      }

      .projects-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 40px;
        justify-content: center;
      }

      .project-card {
        background: #ffffff;
        border-radius: 20px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        box-shadow: 0 10px 30px rgba(44, 62, 80, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        text-decoration: none;
        position: relative;
        border: 1px solid rgba(44, 62, 80, 0.1);
      }

      .project-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 40px rgba(44, 62, 80, 0.2);
      }

      .project-image-container {
        height: 250px;
        overflow: hidden;
        position: relative;
      }

      .project-image {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .project-card:hover .project-image {
        transform: scale(1.05);
      }

      .project-image-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(44, 62, 80, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .project-card:hover .project-image-overlay {
        opacity: 1;
      }

      .btn-gallery-overlay {
        padding: 12px 24px;
        background: #E3735E;
        color: #ECF0F1;
        border: none;
        border-radius: 8px;
        font-size: 0.9rem;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
      }

      .btn-gallery-overlay:hover {
        background: #C85A45;
        transform: scale(1.05);
      }

      .project-info {
        padding: 30px;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
      }

      .project-category {
        font-size: 0.8rem;
        font-weight: 600;
        color: #E3735E;
        margin-bottom: 8px;
        text-transform: uppercase;
        letter-spacing: 0.1em;
      }

      .project-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #2C3E50;
        margin-bottom: 8px;
        line-height: 1.2;
      }

      .project-subtitle {
        font-size: 0.95rem;
        color: #7F8C8D;
        margin-bottom: 20px;
        line-height: 1.5;
      }

      .project-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: auto;
      }

      .tag {
        font-size: 0.75rem;
        color: #ECF0F1;
        background: #E3735E;
        padding: 4px 12px;
        border-radius: 15px;
        font-weight: 400;
        transition: background 0.3s ease;
      }

      .tag:hover {
        background: #C85A45;
      }

      .gallery-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(44, 62, 80, 0.98);
        z-index: 2000;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .gallery-modal.active {
        opacity: 1;
        visibility: visible;
      }

      .gallery-container {
        position: relative;
        width: 90%;
        max-width: 1200px;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
      }

      .gallery-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        margin-bottom: 20px;
      }

      .gallery-info h3 {
        font-size: 1.5rem;
        color: #ECF0F1;
        margin-bottom: 4px;
      }

      .gallery-counter {
        color: #F2A594;
        font-size: 0.9rem;
      }

      .gallery-close {
        width: 48px;
        height: 48px;
        background: rgba(227, 115, 94, 0.1);
        border: 1px solid rgba(227, 115, 94, 0.3);
        border-radius: 50%;
        color: #E3735E;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }

      .gallery-close:hover {
        background: rgba(227, 115, 94, 0.2);
        transform: rotate(90deg);
        color: #ECF0F1;
      }

      .gallery-main {
        position: relative;
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        border-radius: 12px;
        background: rgba(44, 62, 80, 0.5);
      }

      .gallery-image {
        max-width: 100%;
        max-height: 70vh;
        object-fit: contain;
        border-radius: 8px;
      }

      .gallery-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 48px;
        height: 48px;
        background: rgba(227, 115, 94, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(227, 115, 94, 0.3);
        border-radius: 50%;
        color: #E3735E;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }

      .gallery-nav:hover {
        background: rgba(227, 115, 94, 0.2);
        transform: translateY(-50%) scale(1.1);
        color: #ECF0F1;
      }

      .gallery-nav:disabled {
        opacity: 0.3;
        cursor: not-allowed;
      }

      .gallery-nav:disabled:hover {
        transform: translateY(-50%) scale(1);
      }

      .gallery-prev {
        left: 20px;
      }

      .gallery-next {
        right: 20px;
      }

      .gallery-thumbnails {
        display: flex;
        gap: 12px;
        margin-top: 20px;
        overflow-x: auto;
        padding: 10px 0;
      }

      .gallery-thumbnails::-webkit-scrollbar {
        height: 6px;
      }

      .gallery-thumbnails::-webkit-scrollbar-track {
        background: rgba(227, 115, 94, 0.1);
        border-radius: 3px;
      }

      .gallery-thumbnails::-webkit-scrollbar-thumb {
        background: rgba(227, 115, 94, 0.5);
        border-radius: 3px;
      }

      .thumbnail {
        flex-shrink: 0;
        width: 80px;
        height: 60px;
        border-radius: 6px;
        object-fit: cover;
        cursor: pointer;
        opacity: 0.5;
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .thumbnail:hover {
        opacity: 0.8;
      }

      .thumbnail.active {
        opacity: 1;
        border-color: #E3735E;
      }

      footer {
        background: #34495E;
        padding: 2rem 0;
        border-top: 3px solid #E3735E;
      }

      footer div {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
        display: flex;
        justify-content: center;
        text-align: center;
        color: #ECF0F1;
        font-size: 0.9rem;
      }

      @media (max-width: 1024px) {
        .projects-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (max-width: 768px) {
        .portfolio-content {
          padding: 60px 20px;
        }

        .projects-grid {
          grid-template-columns: 1fr;
        }

        .gallery-container {
          width: 95%;
        }

        .gallery-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 12px;
        }

        .gallery-nav {
          width: 40px;
          height: 40px;
        }

        .gallery-prev {
          left: 10px;
        }

        .gallery-next {
          right: 10px;
        }

        .thumbnail {
          width: 60px;
          height: 45px;
        }

        .menu {
          width: 80%;
        }

        .menu a {
          font-size: 24px;
        }
      }
    </style>
  </head>
  <body>
    <section class="portfolio-detail">
      <button class="burger" id="burger" aria-label="Toggle menu">
        <span class="burger-icon"></span>
      </button>

      <div class="menu" id="menu">
        <nav>
          <a href="/">Home</a>
          <a href="/services/residencial">Serviços</a>
          <a href="/feedback/feedback">Feedback</a>
          <a href="/about/about">Sobre</a>
          <a href="/contact/contact">Contato</a>
        </nav>
      </div>

      <div class="hero-section">
        <div class="hero-background">
          <img src="https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=1920&q=80" alt="Portfólio" />
        </div>
        <div class="hero-overlay"></div>
        <div class="hero-content">
          <h1 class="hero-title">Nosso Portfólio</h1>
          <p class="hero-description">
            Explore nossos projetos de arquitetura e design de interiores, onde
            a funcionalidade encontra a estética em cada detalhe.
          </p>
        </div>
      </div>

      <div class="portfolio-content">
        <div class="portfolio-container">
          <div class="category-filter" id="filter-buttons">
            {categories.map((category, index) => (
              <button class={`filter-button ${index === 0 ? "active" : ""}`} data-category={category.toLowerCase().replace(" ", "-")}>
                {category}
              </button>
            ))}
          </div>

          <div class="projects-grid" id="projects-grid">
            {projects.map((project) => (
              <div class="project-card" data-category={project.category.toLowerCase().replace(" ", "-")}>
                <div class="project-image-container">
                  <img src={project.image} alt={project.title} class="project-image" />
                  <div class="project-image-overlay">
                    <button class="btn-gallery-overlay" data-project-id={project.id} data-project-title={project.title} data-gallery={JSON.stringify(project.gallery)}>
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                      </svg>
                      Ver Galeria ({project.gallery.length})
                    </button>
                  </div>
                </div>
                <div class="project-info">
                  <p class="project-category">{project.category}</p>
                  <h2 class="project-title">{project.title}</h2>
                  <p class="project-subtitle">{project.subtitle}</p>
                  <div class="project-tags">
                    {project.tags.map((tag) => (
                      <span class="tag">{tag}</span>
                    ))}
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div>
        <p>© 2025 — Todos os direitos reservados.</p>
      </div>
    </footer>

    <!-- Gallery Modal -->
    <div class="gallery-modal" id="galleryModal">
      <div class="gallery-container">
        <div class="gallery-header">
          <div class="gallery-info">
            <h3 id="galleryTitle">Projeto</h3>
            <p class="gallery-counter">
              <span id="currentIndex">1</span> / <span id="totalImages">1</span>
            </p>
          </div>
          <button class="gallery-close" id="closeGallery" aria-label="Fechar galeria">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"/>
              <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
          </button>
        </div>

        <div class="gallery-main">
          <button class="gallery-nav gallery-prev" id="prevImage" aria-label="Imagem anterior">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15 18 9 12 15 6"/>
            </svg>
          </button>

          <img 
            id="galleryImage" 
            class="gallery-image" 
            src="" 
            alt="Imagem do projeto"
          />

          <button class="gallery-nav gallery-next" id="nextImage" aria-label="Próxima imagem">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"/>
            </svg>
          </button>
        </div>

        <div class="gallery-thumbnails" id="galleryThumbnails"></div>
      </div>
    </div>

    <script>
      // Lógica do Menu Hamburguer (JS)
      const burger = document.getElementById("burger");
      const menu = document.getElementById("menu");

      burger?.addEventListener("click", () => {
        document.body.classList.toggle("menu-open");
        menu?.classList.toggle("open");
      });

      document.querySelectorAll(".menu a").forEach((link) => {
        link.addEventListener("click", () => {
          document.body.classList.remove("menu-open");
          menu?.classList.remove("open");
        });
      });

      document.addEventListener("keydown", (e) => {
        if (
          e.key === "Escape" &&
          document.body.classList.contains("menu-open")
        ) {
          document.body.classList.remove("menu-open");
          menu?.classList.remove("open");
        }
      });

      // Lógica do Filtro de Categoria (JS)
      document.addEventListener("DOMContentLoaded", () => {
        const filterButtons = document.querySelectorAll(".filter-button");
        const projectCards = document.querySelectorAll(".project-card");

        filterButtons.forEach((button) => {
          button.addEventListener("click", () => {
            filterButtons.forEach((btn) => btn.classList.remove("active"));
            button.classList.add("active");

            const filterCategory = button.getAttribute("data-category");

            projectCards.forEach((card) => {
              const cardCategory = card.getAttribute("data-category");

              if (
                filterCategory === "todos" ||
                filterCategory === cardCategory
              ) {
                card.style.display = "flex";
              } else {
                card.style.display = "none";
              }
            });
          });
        });
      });

      // Gallery Modal
      const galleryModal = document.getElementById('galleryModal');
      const galleryImage = document.getElementById('galleryImage');
      const galleryTitle = document.getElementById('galleryTitle');
      const currentIndexEl = document.getElementById('currentIndex');
      const totalImagesEl = document.getElementById('totalImages');
      const thumbnailsContainer = document.getElementById('galleryThumbnails');
      const prevBtn = document.getElementById('prevImage');
      const nextBtn = document.getElementById('nextImage');
      const closeBtn = document.getElementById('closeGallery');

      let currentImages = [];
      let currentIndex = 0;

      // Abrir galeria
      document.querySelectorAll('.btn-gallery-overlay').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          
          const title = btn.dataset.projectTitle;
          const gallery = JSON.parse(btn.dataset.gallery);
          
          openGallery(title, gallery);
        });
      });

      function openGallery(title, images) {
        currentImages = images;
        currentIndex = 0;
        
        galleryTitle.textContent = title;
        totalImagesEl.textContent = images.length;
        
        updateGallery();
        createThumbnails();
        
        galleryModal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }

      function closeGallery() {
        galleryModal.classList.remove('active');
        document.body.style.overflow = '';
      }

      function updateGallery() {
        galleryImage.src = currentImages[currentIndex];
        currentIndexEl.textContent = currentIndex + 1;
        
        // Atualizar botões
        prevBtn.disabled = currentIndex === 0;
        nextBtn.disabled = currentIndex === currentImages.length - 1;
        
        // Atualizar thumbnails
        updateThumbnails();
      }

      function createThumbnails() {
        thumbnailsContainer.innerHTML = '';
        
        currentImages.forEach((image, index) => {
          const thumb = document.createElement('img');
          thumb.src = image;
          thumb.className = 'thumbnail';
          thumb.alt = `Miniatura ${index + 1}`;
          
          if (index === 0) {
            thumb.classList.add('active');
          }
          
          thumb.addEventListener('click', () => {
            currentIndex = index;
            updateGallery();
          });
          
          thumbnailsContainer.appendChild(thumb);
        });
      }

      function updateThumbnails() {
        const thumbs = thumbnailsContainer.querySelectorAll('.thumbnail');
        thumbs.forEach((thumb, index) => {
          thumb.classList.toggle('active', index === currentIndex);
        });
        
        // Scroll para a thumbnail ativa
        const activeThumb = thumbs[currentIndex];
        activeThumb?.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
      }

      // Navegação
      prevBtn.addEventListener('click', () => {
        if (currentIndex > 0) {
          currentIndex--;
          updateGallery();
        }
      });

      nextBtn.addEventListener('click', () => {
        if (currentIndex < currentImages.length - 1) {
          currentIndex++;
          updateGallery();
        }
      });

      // Fechar galeria
      closeBtn.addEventListener('click', closeGallery);

      galleryModal.addEventListener('click', (e) => {
        if (e.target === galleryModal) {
          closeGallery();
        }
      });

      // Teclado - atualizado para não conflitar com o menu
      document.addEventListener('keydown', (e) => {
        // Se o menu está aberto, deixa o ESC fechar o menu
        if (document.body.classList.contains('menu-open')) {
          return;
        }

        // Se a galeria está aberta
        if (!galleryModal.classList.contains('active')) return;
        
        switch(e.key) {
          case 'Escape':
            closeGallery();
            break;
          case 'ArrowLeft':
            if (currentIndex > 0) {
              currentIndex--;
              updateGallery();
            }
            break;
          case 'ArrowRight':
            if (currentIndex < currentImages.length - 1) {
              currentIndex++;
              updateGallery();
            }
            break;
        }
      });
    </script>
  </body>
</html>